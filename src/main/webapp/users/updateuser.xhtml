<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <ui:remove>do not delete header</ui:remove>
            <ui:include src="/panel/main_headers.xhtml"/>
        </h:head>
        <h:body>
            <p:layout fullPage="true">
                <p:layoutUnit id="top" position="north" size="100" header="Top" resizable="true" closable="false" collapsible="true">
                    <h:form>       
                        <ui:include src="/panel/menu.xhtml"/>
                    </h:form>
                </p:layoutUnit>
                <p:layoutUnit id="center" position="center">                                    
                    <h:form id="register_user">  
                        <p:panel toggleTitle="#{i18n.chpass}" closable="false" header="#{i18n.registeruser}" styleClass="form-horizontal" toggleable="true">
                            <fieldset>                              
                                <div class="legend">  
                                    <legend class=""><h:outputText  value="#{i18n.registeruser}"/></legend>                                                                        
                                </div>
                                <div class="control-group">                                
                                    <label class="control-label" for="fname"><h:outputText value="#{i18n.fname}"/></label>                                
                                    <div class="controls">
                                        <h:inputText   id="fname"  size="60" required="true" value="#{UserUpdateBean.userEntity.firstname}">
                                            <f:validateLength  maximum="100"/>                                   
                                        </h:inputText>                             
                                    </div>
                                </div>    
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="fname" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>
                                <div class="control-group">                                
                                    <label class="control-label" for="lname"><h:outputText value="#{i18n.lname}"/></label>                                
                                    <div class="controls">
                                        <h:inputText   id="lname"  size="60" required="true" value="#{UserUpdateBean.userEntity.lastname}">
                                            <f:validateLength  maximum="100"/>                                   
                                        </h:inputText>                             
                                    </div>
                                </div>    
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="lname" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>
                                <div class="control-group">                                
                                    <label class="control-label" for="email"><h:outputText value="#{i18n.email}"/></label>                                
                                    <div class="controls">
                                        <h:inputText   id="email"  size="60" required="false" readonly="false" value="#{UserUpdateBean.userEntity.email}">
                                            <f:validateLength  maximum="100"/>               
                                            <f:validator validatorId="EmailValidator"/>
                                        </h:inputText>                             
                                    </div>
                                </div>    
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="email" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>
                                <div class="control-group">                                
                                    <label class="control-label" for="passwd"><h:outputText value="#{i18n.passwd}"/></label>                                
                                    <div class="controls">
                                        <h:inputSecret  id="passwd" size="60" value="#{UserUpdateBean.password}" maxlength="20">
                                            <f:validateLength minimum="6" maximum="20"/>    
                                        </h:inputSecret>                              
                                    </div>
                                </div>    
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="passwd" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>
                                <div class="control-group">                                
                                    <label class="control-label" for="subscribe">
                                        <h:outputText value="#{i18n.subscribe}"/>                                 
                                    </label>                                
                                    <div class="controls">
                                        <h:selectBooleanCheckbox id="subscribe" value="#{UserUpdateBean.userEntity.acceptSubscr}"/>
                                    </div>
                                </div>                           
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="subscribe" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>       
                                <div class="control-group">                                
                                    <label class="control-label" for="userRole"><h:outputText value="#{i18n.userRole}"/></label>                                
                                    <div class="controls">
                                        <h:selectOneMenu id="userRole" required="true" value="#{UserUpdateBean.userEntity.userRole}">
                                            <f:selectItem itemLabel="#{i18n.regularuser}" itemValue="1"/>
                                            <f:selectItem itemLabel="#{i18n.siteAdmin}" itemValue="1639654122"/>
                                            <f:selectItem itemLabel="#{i18n.siteMember}" itemValue="2"/>                           
                                        </h:selectOneMenu>                            
                                    </div>
                                </div>    
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="userRole" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>
                                <div class="control-group">                                
                                    <label class="control-label" for="status"><h:outputText value="#{i18n.status}"/></label>                                
                                    <div class="controls">
                                        <h:selectOneMenu id="status" required="true" value="#{UserUpdateBean.userEntity.status}">
                                            <f:selectItem itemLabel="#{i18n.active}" itemValue="16"/>
                                            <f:selectItem itemLabel="#{i18n.notactive}" itemValue="17"/>                           
                                        </h:selectOneMenu>                             
                                    </div>
                                </div>    
                                <div class="control-group">  
                                    <div class="controls">
                                        <h:message for="userRole" styleClass="alert alert-error"/>                              
                                    </div>
                                </div>
                                <div class="control-group">
                                    <!-- Button -->
                                    <div class="controls">
                                        <h:commandButton styleClass="btn btn-primary btn-large" action="#{UserUpdateBean.updateUser}" value="#{i18n.save}"/>
                                        <h:outputText value=" "/>
                                        <h:commandButton styleClass="btn btn-primary btn-large" action="userlist" immediate="true" value="#{i18n.cancel}"/>
                                    </div>
                                </div>
                            </fieldset>                                
                        </p:panel>
                    </h:form>  
                </p:layoutUnit>               
                <p:layoutUnit id="right" position="east" size="250" header="#{i18n.navigation}" resizable="true" closable="false" collapsible="true"
                              style="text-align:left">                   
                    <ui:include src="user_navigator.xhtml"/>
                </p:layoutUnit>                              
            </p:layout>            
        </h:body>
    </f:view>
</html>
